# コード構造

最初の勉強は、コードのビルディングブロックです。

[cut]

## ステートメント(命令文) [#statements]

ステートメントは、シンタックス構造でアクションを実行するコマンドです。

私たちは既に `alert('Hello, world!')` というステートメントを見ました、そしてそれはメッセージを表示します。

私たちは、私達が望むだけの多くのステートメントをコードに含めることができます。ステートメントはセミコロンで区切ることができます。

たとえば、ここではメッセージを2つに分けます:

```js run no-beautify
alert('Hello'); alert('World');
```

通常、各ステートメントは別の行に書かれます -- そのためコードはより読みやすくなります。

```js run no-beautify
alert('Hello');
alert('World');
```

## セミコロン [#semicolon]

セミコロンは改行が存在するとき、ほとんどのケースで省略されます。

これもまた動作します:

```js run no-beautify
alert('Hello')
alert('World')
```

ここでJavaScriptは、改行を "暗黙" のセミコロンとして解釈します。
それはまた[自動セミコロン挿入](https://tc39.github.io/ecma262/#sec-automatic-semicolon-insertion)と呼ばれます。

**ほとんどのケースで、改行はセミコロンを意味します。しかし "ほんどのケース" は "いつも" ではありません!**

これは改行はセミコロンを意味しないケースです、たとえば:

```js run no-beautify
alert(3 +
1
+ 2);
```

このコードは `6` を出力します、なぜならJavaScriptはここではセミコロンを挿入しないからです。もし行の終わりがプラス `"+"` で終わっている場合、直感的には "不完全な表現" であり、セミコロンが必要ないのは明らかです。そしてこのケースでは、それは意図したとおりに動作します。

**しかしJavaScriptが、本当に必要なときにセミコロンを想定 "し損なう" ケースがあります。**

このようなケースで発生するエラーは検出と修正が非常に難しいです。

````smart header="An example of an error"
もしもあなたがこのようなエラーの具体例を見て興味があるなら、このコードを確認してください:

```js run
[1, 2].forEach(alert)
```

ブラケット `[]` や `forEach` の意味についてはまだ考える必要はありません。私達はあとでそれらを勉強するでしょう、今のところそれは問題ではありません。ただ結果を覚えておきましょう: "1", そして "2" が表示されます。

今、コードの前に `alert` を追加し、セミコロンで終わら "ない" ようにしましょう:

```js run no-beautify
alert("There will be an error")

[1, 2].forEach(alert)
```

それを実行した場合、最初の `alert` だけが表示され、エラーが発生するでしょう!

しかし、もしも `alert` の後にセミコロンをつけた場合はすべてうまく行きます:
```js run
alert("All fine now");

[1, 2].forEach(alert)  
```

今や私たちは "All fine now" メッセージ、そして `1`, `2` を得ます。


セミコロンのない変種のエラーは、JavaScriptは角括弧 `[...]` の前のセミコロンを暗示しないために発生します。

そのため、セミコロンは自動挿入されないので最初の例のコードは1つのステートメントとして扱われます。
So, because the semicolon is not auto-inserted, the code in the first example is treated as a single statement.
これは、どのようにエンジンがそれを見るかです:

```js run no-beautify
alert("There will be an error")[1, 2].forEach(alert)
```

しかし、それは1つではなく2つの別のステートメントであるべきです。今回のケースのようなマージは間違っているので、エラーです。このようなことが起こる他のシチュエーションもあります。
````

改行によってステートメントが分割されていたとしてもセミコロンを置くことを推奨します。このルールはコミュニティで広く採用されています。再度留意しましょう -- ほとんどの場合でセミコロンは除くことが *可能* です。しかし、安全です -- 特に初心者は -- それらを使うことが。

## コメント

時が経つにつれて、プログラムはますます複雑になります。起こることと、なぜを説明するための *コメント* を追加し始める必要があります。

コメントはスクリプトのどの場所にも書くことができます。エンジンは単にそれらを無視するので、実行には影響しません。

**1行のコメントは、2つのスラッシュ文字 `//` から始まります。**

残りの行はコメントです。それはそれ自身の行全体または、ステートメントに従うかもしれません。

ここのように:
```js run
// This comment occupies a line of its own
alert('Hello');

alert('World'); // This comment follows the statement
```

**複数行のコメントはスラッシュとアスタリスク <code>/&#42;</code> で始まり、アスタリスクとスラッシュ <code>&#42;/</code> 出終わります。**

このように:

```js run
/* An example with two messages.
This is a multiline comment.
*/
alert('Hello');
alert('World');
```

コメントの内容は無視されます、そのためもしも <code>/&#42; ... &#42;/</code> の中にコードをおいても、それは実行されないでしょう。


時々、コードの一部を一時的に無効にすると便利です:

```js run
/* Commenting out the code
alert('Hello');
*/
alert('World');
```

```smart header="Use hotkeys!"
殆どのエディタでは、コードの行は1行コメントとして `key:Ctrl+/` ホットキーによりコメントアウトすることができます。そして `key:Ctrl+Shift+/` のようなもので複数行コメントです(コードのいち部を選択し、ホットキーを押します)。
Macでは、 `key:Ctrl` の代わりに `key:Cmd` を試してください。
```

````warn header="Nested comments are not supported!"
別の `/*...*/` の中に `/*...*/` はないかもしれません。

このようなコードはエラーで死にます。

```js run no-beautify
/*
  /* nested comment ?!? */
*/
alert( 'World' );
```
````

あなたのコードにコメントするのを躊躇わないでください。

コメントは全体のコードのフットプリントを増加させますが、それは全く問題ではありません。プロダクションサーバへリリースする前にコードを minify する多くのツールがあります。それらはコメントを除去するので、実行スクリプトの中には現れません。それゆえに、コメントはプロダクション上でネガティブな影響は全くありません。

さらにこのチュートリアルでは、よりよいコメントの書き方を説明するチャプター <info:coding-style> があるでしょう。

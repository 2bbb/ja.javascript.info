# データ型

JavaScriptの変数はどんなデータでも入れることができます。変数はある時点では文字列で、その後数値を受け取ることができます。:

```js
// エラーなし
let message = "hello";
message = 123456;
```

このようなことができるプログラミング言語は "動的型付け" と呼ばれ、データ型はありますが、変数はそのどれにもバインドされないことを意味します。

JavaScriptでは7つの基本的なデータ型があります。ここでは基本を学び、次のチャプターでそれらの詳細について話しましょう。

[cut]

## 数値 

```js
let n = 123;
n = 12.345;
```

*数値* 型は整数と浮動小数点両方に使われます。

数値に関する多くの操作があります、 e.g. 乗算 `*`, 除算 `/`, 加算 `+`, 減算 `-` など。

通常の数値に加えて、これらのタイプに属する "特別な数値型" もあります。: `Infinity`、 `-Infinity`、 `NaN`.

- `Infinity` は数学的な[無限大](https://en.wikipedia.org/wiki/Infinity) ∞ を表します。どの値よりも大きい特別な値です。

    ゼロによる除算の結果でそれを得ることができます。:

    ```js run
    alert( 1 / 0 ); // 無限大
    ```

    もしくは、単にコードで直接それを書くこともできます:

    ```js run
    alert( Infinity ); // 無限大
    ```
- `NaN` は計算上のエラーを表します。正しくないもしくは未定義の数学的な操作の結果です。例:

    ```js run
    alert( "not a number" / 2 ); // NaN, このような除算は誤りです
    ```

    `NaN` は粘着性です。`NaN` 以降はどのような操作をしても `NaN` になります:

    ```js run
    alert( "not a number" / 2 + 5 ); // NaN
    ```

    そのため、数学的な表現の中のどこかに `NaN` がある場合、結果全体に伝搬します。

```smart header="算術演算子は安全です"
JavaScriptでは数学をするのは安全です。ゼロによる除算、数値として数値ではない文字列を扱うなど何でもできます。

スクリプトは致命的なエラー（"死"）で止まることはありません。 最悪の場合でも NaN という結果になります。
```

特別な数値は正式には "数値" 型に所属します。もちろん、それらはこの言葉の常識では数値ではありません。

チャプター <info:number> でより数値の動作について見るでしょう。

## 文字列 

JavaScriptの文字列は引用符で囲む必要があります。

```js
let str = "Hello";
let str2 = 'Single quotes are ok too';
let phrase = `can embed ${str}`;
```

JavScriptでは3種類の引用符があります。

1. ダブルクォート: `"Hello"`.
2. シングルクォート: `'Hello'`.
3. バッククォート: <code>&#96;Hello&#96;</code>.

ダブル/シングルクォートは "シンプルな" 引用符です。JavaScriptの中ではそれらに違いはありません。

バッククォートは "拡張機能" の引用符です。変数を `${…}` の中にラップすることで、変数を埋め込み、文字列の中で表現することができます。たとえば:

```js run
let name = "John";

// 変数が埋め込まれた場合
alert( `Hello, *!*${name}*/!*!` ); // Hello, John!

// 式が埋め込まれた場合
alert( `the result is *!*${1 + 2}*/!*` ); // 結果は 3
```

`${…}` の中の表現は評価され、結果は文字列の一部になります。そこにはなんでも置くことができます: `name` のような変数、`1 + 2` のような算術表現、またはより複雑なものを書くことができます。

これはバッククォートでのみ可能なことに留意してください。他のクォートはこのような埋め込みは許容しません!

```js run
alert( "the result is ${1 + 2}" ); // 結果は ${1 + 2} です(ダブルクォートは何もしません)
```

チャプター<info:string> で、より徹底的に文字列の説明します。

```smart header="*character* 型はありません"
いくつかの言語では、1文字のための特別な "文字" 型があります。たとえば、C言語やJavaでは、それは `char` です。

JavaScriptでは、このような型はありません。 `string` 型の1つだけです。文字列は1つの文字または複数のそれらから構成されます。
```

## boolean (論理型) 

boolean 型は2つの値だけを持ちます: `true` と `false`

この型は通常 yes/no の値を格納するために使われます: `true` は "yes" を意味し、 `false` は "no, 正しくない" を意味します。

例:

```js
let nameFieldChecked = true; // yes, 名前フィールドはチェックされている
let ageFieldChecked = false; // no, 年齢フィールドは未チェック
```

Boolean 値は比較の結果としても現れます:

```js run
let isGreater = 4 > 1;

alert( isGreater ); // true (比較結果は "yes" です)
```

後ほどチャプター<info:logical-operators>でbooleanのより詳細を説明します。

## "null" 値 

特殊な `null` 値は上で述べたどの型にも属しません。

それは自身の別の型を形成し、`null` 値だけを含みます。

```js
let age = null;
```

JavaScriptでは、 `null` は他の言語のような "存在しないオブジェクトへの参照" または "null へのポインタ" ではありません。

それは、 "無し"、"空" または "不明な値" と言った意味を持つ特別な値です。

上のコードは、 `age` は何らかの理由で不明な値もしくは空であることを述べています。

## "undefined" 値 

特殊な値 `undefined` も別に扱われます。`null` のように、それ自身の形を作ります。

`undefined` の意味は "値は代入されていません" です。

もしも変数は宣言されているが代入されていない場合、その値は正確には `undefined` です:

```js run
let x;

alert(x); // "undefined" を表示
```

技術的にはどの変数にも `undefined` を代入することができます。

```js run
let x = 123;

x = undefined;

alert(x); // "undefined"
```

...しかし、そのようにするのは推奨されません。一般的には、 "空" や "不明な値" を書き込むために `null` を使い、`undefined` は変数が割り当てられているか、もしくは似たような確認のために使います。

## オブジェクトとシンボル 

`object` 型は特殊です。

他のすべての型は、値は1つのもの(文字列, 数値, または何でも)だけを含むことができるので、"プリミティブ" と呼ばれます。対象的に、オブジェクトはデータのコレクションやより複雑なエンティティを格納するために使われます。ここでは、プリミティブについて十分に知った後、それらを後ほどチャプター<info:object>で扱います。

`symbol` 型はオブジェクトの一意な識別子を作るのに使われます。完全性のために、私たちはここで言及する必要がありますが、オブジェクトの後で勉強するのがよいでしょう。

## typeof 操作 

`typeof` 操作は、引数の型を返します。異なる型の値を別々に処理したい、または素早くチェックしたいときに役立ちます。

これは2つの形式の構文をサポートします:

1. 演算子として: `typeof x`.
2. 関数スタイル: `typeof(x)`.

言い換えると、それは括弧があってもなくても動作します。結果は同じです。

`typeof x` の呼び出しは型名の文字列を返します。:

```js
typeof undefined // "undefined"

typeof 0 // "number"

typeof true // "boolean"

typeof "foo" // "string"

typeof Symbol("id") // "symbol"

*!*
typeof Math // "object"  (1)
*/!*

*!*
typeof null // "object"  (2)
*/!*

*!*
typeof alert // "function"  (3)
*/!*
```

最後の3行については追加の説明が必要かもしれません:

1. `Math` は数学的な操作を提供する組み込みオブジェクトです。チャプター<info:number>で学ぶでしょう。ここでは、単にオブジェクトとしての例です。
2. `typeof null` の結果は `"object"` です。これは間違っています。これは `typeof` において、公式に認められているエラーで、互換性のために維持されています。もちろん、`null` はオブジェクトではありまえん。それは自身の別の型をもつ特殊な値です。なので、繰り返しますがそれは言語のエラーです。
3. `alert` は言語の機能なので、`typeof alert` の結果は `"function"` です。我々は次のチャプターで function を勉強します。そして、言語の中で特殊な "function" 型がないことがわかるでしょう。function はオブジェクト型に属します。しかし `typeof` はそれらを別々に扱います。正式にはそれは正しくありませんが、実際にはとても便利です。


## サマリ 

JavaScriptには7つの基本型があります。

- `number` あらゆる種類の数値: 整数または浮動小数点
- `string` 文字列。文字列は1つかより多くの文字を持ち、別の1文字型はありません。
- `boolean` `true`/`false`
- `null` 不明な値 -- 単一の値 `null` を持つスタンドアロン型
- `undefined` 未割り当て値 -- 単一の値 `undefined` を持つスタンドアロン型
- `object` より複雑なデータ構造
- `symbol` 一意な識別子

`typeof` 操作は変数にどの型が格納されているかを知ることができます。

- 2つの形式: `typeof x` or `typeof(x)`.
- `"string"` のように型の名前の文字列を返します。
- `null` は `"object"` を返します -- それは言語のエラーで、実際はオブジェクトではありません。

次のチャプターではプリミティブ値について集中し、それらに精通した後オブジェクトに進みます。
